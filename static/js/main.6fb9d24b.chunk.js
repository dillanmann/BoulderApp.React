(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{78:function(e,t,n){e.exports=n(93)},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(25),c=n.n(l),o=(n(83),n(28)),i=n(29),u=n(32),m=n(30),d=n(33),s=n(57),h=n(34),E=n(103),p=n(96),f=n(72),C=n(105),b=n(10),y=new(n(77).a)({uri:"https://boulderapp.azurewebsites.net/graphql"}),v=n(17),g=n(37),w=n(95),I=n(101),S=n(97),j=n(104),O=n(98),A=n(39),k=n(52),D=n(100),B=n(23),x=function(e){var t=e.show,n=e.title,a=e.handleClose,l=e.onSuccess,c=e.createInputFromState,o=e.mutation,i=e.Body,u=Object(B.a)(o,{variables:c(),onCompleted:function(){return l()}}),m=Object(k.a)(u,1)[0];return r.a.createElement(D.a,{show:t},r.a.createElement(D.a.Header,null,r.a.createElement(D.a.Title,null,n)),r.a.createElement(D.a.Body,null,r.a.createElement(i,null)),r.a.createElement(D.a.Footer,null,r.a.createElement(C.a,{variant:"secondary",onClick:a},"Close"),r.a.createElement(C.a,{variant:"primary",onClick:function(){return m()}},"Add")))},M=n(19),P=n(15),$=n.n(P);function G(){var e=Object(M.a)(["\n    query GetCircuitById($id: ID!){\n        circuit(id: $id){\n            name\n            problems{\n                id\n                name\n                grade\n            }\n        }\n    }"]);return G=function(){return e},e}function N(){var e=Object(M.a)(["{ vGrades }"]);return N=function(){return e},e}function F(){var e=Object(M.a)(["\n    query GetProblemById($id: ID!){\n        problem(id: $id){\n            name\n            id\n            grade\n        }\n    }"]);return F=function(){return e},e}function q(){var e=Object(M.a)(["\n    query GetCenterById($id: ID!){\n        center(id: $id){\n            name\n            circuits{\n                name\n                id\n                problems{\n                    id\n                }\n            }\n        }\n    }"]);return q=function(){return e},e}function L(){var e=Object(M.a)(["\n  query {\n    centers {\n      name\n      id\n      circuits{\n        name\n      }\n    }\n  }\n"]);return L=function(){return e},e}var U=$()(L()),H=$()(q()),T=$()(F()),J=$()(N()),W=$()(G());function z(){var e=Object(M.a)(["\n        mutation CreateCenter($input: CenterInput!){\n            createCenter(center: $input){\n                name\n            }\n        }\n    "]);return z=function(){return e},e}function R(){var e=Object(M.a)(["\n    mutation DeleteProblemById($id: ID!){\n        deleteProblem(id: $id){\n            result\n        }\n    }"]);return R=function(){return e},e}function V(){var e=Object(M.a)(["\n    mutation CreateProblemInCircuit($input: CreateProblemInCircuitInput!){\n        createProblemInCircuit(input: $input){\n          name\n        }\n      }"]);return V=function(){return e},e}function K(){var e=Object(M.a)(["\n    mutation CreateCircuitInCenter($input: CreateCircuitInCenterInput!){\n        createCircuitInCenter(input: $input){\n            name\n        }\n    }\n    "]);return K=function(){return e},e}function Q(){var e=Object(M.a)(["\n        mutation DeleteCenterById($id: ID!){\n            deleteCenter(id: $id){\n                result\n            }\n        }\n    "]);return Q=function(){return e},e}function X(){var e=Object(M.a)(["\n    mutation DeleteCircuitById($id: ID!){\n        deleteCircuit(id: $id){\n            result\n        }\n    }"]);return X=function(){return e},e}var Y=$()(X()),Z=$()(Q()),_=$()(K()),ee=$()(V()),te=$()(R()),ne=$()(z()),ae=function(e){var t=e.mutation,n=e.itemId,a=e.afterDelete,l=e.text,c=e.IconComponent,o=Object(B.a)(t,{variables:{id:n},onCompleted:function(){return a()}}),i=Object(k.a)(o,1)[0];return r.a.createElement(C.a,{variant:"danger",onClick:function(e){e.preventDefault(),e.stopPropagation(),i({})}},null!=l?l:r.a.createElement(c,null))},re=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).onStateChange=function(e){return n.setState(Object(g.a)({},e.target.name,e.target.value))},n.setShowAddCenterModal=function(e){return n.setState({showAddCenterModal:e})},n.createInputFromState=function(){return{input:{name:n.state.centerName}}},n.AddCenterModalBody=function(){return r.a.createElement(I.a,null,r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Center name"),r.a.createElement(I.a.Control,{type:"text",name:"centerName",onChange:n.onStateChange,value:n.state.centerName})))},n.history=e.history,n.state={showAddCenterModal:!1,centerName:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(w.a,{query:U},(function(t){var n=t.loading,a=t.data,l=t.refetch;return!n&&r.a.createElement(p.a,null,r.a.createElement(x,{show:e.state.showAddCenterModal,title:"Add Center",handleClose:function(){return e.setShowAddCenterModal(!1)},onChange:e.onStateChange,onSuccess:function(){e.setShowAddCenterModal(!1),l()},createInputFromState:e.createInputFromState,mutation:ne,Body:e.AddCenterModalBody}),r.a.createElement("div",{style:{maxHeight:"calc(100vh - 200px)",overflow:"auto",margin:"5px"}},r.a.createElement(S.a,null,a.centers.map((function(t){return r.a.createElement(j.a,{key:t.id,bg:"dark",text:"white",style:{width:"18rem"}},r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,null,t.name),r.a.createElement(j.a.Text,null,"Circuits: ",t.circuits.length),r.a.createElement(O.a,null,r.a.createElement(f.a,{xs:4},r.a.createElement(C.a,{variant:"primary",onClick:function(){return e.history.push("/center/"+t.id)}},"View")),r.a.createElement(f.a,{xs:{offset:5,span:3}},r.a.createElement(ae,{mutation:Z,itemId:t.id,afterDelete:l,IconComponent:function(){return r.a.createElement(A.b,null)}})))))})))),r.a.createElement(C.a,{variant:"success",onClick:function(){return e.setShowAddCenterModal(!0)}},"Add Center"))}))}}]),t}(r.a.Component),le=n(102),ce=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).createInputFromState=function(){return{input:{centerId:n.id,circuit:{name:n.state.circuitName,dateUp:n.state.circuitUpDate,dateDown:n.state.circuitDownDate}}}},n.onStateChange=function(e){return n.setState(Object(g.a)({},e.target.name,e.target.value))},n.setShowAddCircuitModal=function(e){return n.setState({showAddCircuitModal:e})},n.AddCircuitModalBody=function(){return r.a.createElement(I.a,null,r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Circuit name"),r.a.createElement(I.a.Control,{type:"text",name:"circuitName",onChange:n.onStateChange,value:n.state.circuitName})),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Date set"),r.a.createElement(I.a.Control,{type:"date",name:"circuitUpDate",onChange:n.onStateChange,value:n.state.circuitUpDate})),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Date down"),r.a.createElement(I.a.Control,{type:"date",name:"circuitDownDate",onChange:n.onStateChange,value:n.state.circuitDownDate})))},n.history=e.history,n.id=e.id,n.state={showAddCircuitModal:!1,circuitName:"",circuitUpDate:"",circuitDownDate:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.id;return r.a.createElement(w.a,{query:H,variables:{id:t}},(function(n){var a=n.loading,l=n.data,c=n.refetch;return!a&&r.a.createElement(p.a,null,r.a.createElement(x,{show:e.state.showAddCircuitModal,title:"Add Circuit",handleClose:function(){return e.setShowAddCircuitModal(!1)},onChange:e.onStateChange,onSuccess:function(){e.setShowAddCircuitModal(!1),c()},createInputFromState:e.createInputFromState,mutation:_,Body:e.AddCircuitModalBody}),r.a.createElement("div",null,r.a.createElement("h1",null,l.center.name),r.a.createElement("h4",null,"Circuits"),r.a.createElement("div",{style:{maxHeight:"calc(100vh - 200px)",overflow:"auto",margin:"5px"}},r.a.createElement(le.a,null,l.center.circuits.map((function(t){return r.a.createElement(le.a.Item,{key:t.id,action:!0,onClick:function(){return e.history.push("/circuit/"+t.id)}},r.a.createElement(O.a,null,r.a.createElement(f.a,null,t.name),r.a.createElement(f.a,null,"Problems: ",t.problems.length)))}))))),r.a.createElement(O.a,null,r.a.createElement(f.a,{xs:4},r.a.createElement(C.a,{variant:"success",onClick:function(){return e.setShowAddCircuitModal(!0)}},"Add Circuit"),r.a.createElement(ae,{mutation:Z,itemId:t,afterDelete:function(){return e.history.goBack()},text:"Delete Center"})),r.a.createElement(f.a,{xs:7}),r.a.createElement(f.a,{xs:1},r.a.createElement(C.a,{onClick:function(){return e.history.goBack()}},"Back"))))}))}}]),t}(r.a.Component),oe=n(99),ie=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).createInputFromState=function(){return{input:{circuitId:n.id,problem:{name:n.state.problemName,grade:n.state.problemGrade}}}},n.onStateChange=function(e){return n.setState(Object(g.a)({},e.target.name,e.target.value))},n.setShowAddProblemModal=function(e){return n.setState({showAddProblemModal:e})},n.AddProblemModalBody=function(){var e=Object(B.b)(J),t=e.data;return e.loading?r.a.createElement("p",null,"Loading..."):r.a.createElement(I.a,null,r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Problem name"),r.a.createElement(I.a.Control,{type:"text",name:"problemName",onChange:n.onStateChange,value:n.state.problemName})),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Grade"),r.a.createElement(I.a.Control,{as:"select",name:"problemGrade",onChange:n.onStateChange,value:n.state.problemGrade},t.vGrades.map((function(e){return r.a.createElement("option",{key:e},e)})))))},n.history=e.history,n.id=e.id,n.state={showAddProblemModal:!1,problemName:"",problemGrade:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.id;return r.a.createElement(w.a,{query:W,variables:{id:t}},(function(n){var a=n.loading,l=n.data,c=n.refetch;return!a&&r.a.createElement(p.a,null,r.a.createElement(x,{show:e.state.showAddProblemModal,title:"Add Problem",handleClose:function(){return e.setShowAddProblemModal(!1)},onChange:e.onStateChange,onSuccess:function(){e.setShowAddProblemModal(!1),c()},createInputFromState:e.createInputFromState,mutation:ee,Body:e.AddProblemModalBody}),r.a.createElement("div",null,r.a.createElement("h1",null,l.circuit.name),r.a.createElement("h4",null,"Problems"),r.a.createElement("div",{style:{maxHeight:"calc(100vh - 200px)",overflow:"auto",margin:"5px"}},r.a.createElement(oe.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Grade"),r.a.createElement("th",null))),r.a.createElement("tbody",null,l.circuit.problems.map((function(t){return r.a.createElement("tr",{key:t.id,onClick:function(){return e.history.push("/problem/"+t.id)}},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.grade),r.a.createElement("td",null,r.a.createElement(ae,{mutation:te,itemId:t.id,afterDelete:function(){return c()},IconComponent:function(){return r.a.createElement(A.b,null)}})))}))))),r.a.createElement(O.a,null,r.a.createElement(f.a,{xs:4},r.a.createElement(C.a,{variant:"success",onClick:function(){return e.setShowAddProblemModal(!0)}},"Add Problem"),r.a.createElement(ae,{mutation:Y,itemId:t,afterDelete:function(){return e.history.goBack()},text:"Delete Circuit"})),r.a.createElement(f.a,{xs:7}),r.a.createElement(f.a,{xs:1},r.a.createElement(C.a,{onClick:function(){return e.history.goBack()}},"Back")))))}))}}]),t}(r.a.Component),ue=function(e){var t=e.id,n=Object(h.f)();return r.a.createElement(w.a,{query:T,variables:{id:t}},(function(e){var t=e.loading,a=e.data;return!t&&r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement("h1",null,a.problem.name),r.a.createElement("h3",null,"Grade: ",a.problem.grade),r.a.createElement(ae,{mutation:te,itemId:a.problem.id,afterDelete:n.goBack,text:"Delete"}),r.a.createElement(C.a,{onClick:n.goBack},"Back")))}))},me=Object(v.a)(),de=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{client:y},r.a.createElement(s.a,{history:me},r.a.createElement(E.a,{bg:"dark",variant:"dark"},r.a.createElement(p.a,null,r.a.createElement(f.a,{xs:6},r.a.createElement(E.a.Brand,{href:"/"},"BoulderApp Admin UI")),r.a.createElement(f.a,{xs:{span:2,offset:4}},r.a.createElement(C.a,{href:"https://github.com/dillanmann/BoulderApp.React"},r.a.createElement(A.a,null))))),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",exact:!0,children:function(e){return r.a.createElement(re,{history:e.history})}}),r.a.createElement(h.a,{path:"/center/:id",children:function(e){return r.a.createElement(ce,{history:e.history,id:e.match.params.id})}}),r.a.createElement(h.a,{path:"/circuit/:id",children:function(e){return r.a.createElement(ie,{history:e.history,id:e.match.params.id})}}),r.a.createElement(h.a,{path:"/problem/:id",children:function(e){return r.a.createElement(ue,{history:e.history,id:e.match.params.id})}}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[78,1,2]]]);
//# sourceMappingURL=main.6fb9d24b.chunk.js.map